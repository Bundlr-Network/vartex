{"version":3,"file":"sync.js","sourceRoot":"","sources":["../../../src/database/sync.ts"],"names":[],"mappings":"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"}